<!doctype html>
<html lang="en">
<head>
<title>Linguistic Mode</title>
<!-- 2018-08-12 Sun 18:37 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Org-mode">
<meta name="author" content="Andrew">

<link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<style type="text/css">
/* org mode styles on top of twbs */

html {
    position: relative;
    min-height: 100%;
}

body {
    font-size: 18px;
    margin-bottom: 105px;
}

footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 101px;
    background-color: #f5f5f5;
}

footer > div {
    padding: 10px;
}

footer p {
    margin: 0 0 5px;
    text-align: center;
    font-size: 16px;
}

#table-of-contents {
    margin-top: 20px;
    margin-bottom: 20px;
}

blockquote p {
    font-size: 18px;
}

pre {
    font-size: 16px;
}

.footpara {
    display: inline-block;
}

figcaption {
  font-size: 16px;
  color: #666;
  font-style: italic;
  padding-bottom: 15px;
}

/* from twbs docs */

.bs-docs-sidebar.affix {
    position: static;
}
@media (min-width: 768px) {
    .bs-docs-sidebar {
        padding-left: 20px;
    }
}

/* All levels of nav */
.bs-docs-sidebar .nav > li > a {
    display: block;
    padding: 4px 20px;
    font-size: 14px;
    font-weight: 500;
    color: #999;
}
.bs-docs-sidebar .nav > li > a:hover,
.bs-docs-sidebar .nav > li > a:focus {
    padding-left: 19px;
    color: #A1283B;
    text-decoration: none;
    background-color: transparent;
    border-left: 1px solid #A1283B;
}
.bs-docs-sidebar .nav > .active > a,
.bs-docs-sidebar .nav > .active:hover > a,
.bs-docs-sidebar .nav > .active:focus > a {
    padding-left: 18px;
    font-weight: bold;
    color: #A1283B;
    background-color: transparent;
    border-left: 2px solid #A1283B;
}

/* Nav: second level (shown on .active) */
.bs-docs-sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 30px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav > li > a:focus {
    padding-left: 29px;
}
.bs-docs-sidebar .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav > .active:focus > a {
    padding-left: 28px;
    font-weight: 500;
}

/* Nav: third level (shown on .active) */
.bs-docs-sidebar .nav .nav .nav {
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 40px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav .nav > li > a:focus {
    padding-left: 39px;
}
.bs-docs-sidebar .nav .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav .nav > .active:focus > a {
    padding-left: 38px;
    font-weight: 500;
}

/* Show and affix the side nav when space allows it */
@media (min-width: 992px) {
    .bs-docs-sidebar .nav > .active > ul {
        display: block;
    }
    /* Widen the fixed sidebar */
    .bs-docs-sidebar.affix,
    .bs-docs-sidebar.affix-bottom {
        width: 213px;
    }
    .bs-docs-sidebar.affix {
        position: fixed; /* Undo the static from mobile first approach */
        top: 20px;
    }
    .bs-docs-sidebar.affix-bottom {
        position: absolute; /* Undo the static from mobile first approach */
    }
    .bs-docs-sidebar.affix .bs-docs-sidenav,.bs-docs-sidebar.affix-bottom .bs-docs-sidenav {
        margin-top: 0;
        margin-bottom: 0
    }
}
@media (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .bs-docs-sidebar.affix-bottom,
    .bs-docs-sidebar.affix {
        width: 263px;
    }
}
</style>
<script type="text/javascript">
$(function() {
    'use strict';

    $('.bs-docs-sidebar li').first().addClass('active');

    $(document.body).scrollspy({target: '.bs-docs-sidebar'});

    $('.bs-docs-sidebar').affix();
});
</script>
</head>
<body>
<div id="content" class="container">
<div class="row"><div class="col-md-9"><h1 class="title">Linguistic Mode</h1>
<p>
<a href="https://github.com/andcarnivorous/linguistic">Github</a>
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
Linguistic mode allows to perform basic linguistic analysis on a buffer's contents. It is possible to do collocation searches and obtain word or ngram frequencies.
</p>

<p>
It was designed in order to introduce linguistics students and linguistics enthusiasts to the field corpus analysis. Therefore, it is quite ideal for simple analyses on small files.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> How to install</h2>
<div class="outline-text-2" id="text-2">
<p>
You can install the package from MELPA with ~M-x package-install linguistic~
</p>

<p>
Alternatively, you can use ~M-x package-build-create-recipe~ and use the following:
</p>

<div class="org-src-container">

<pre class="src src-elisp"><span style="color: #0000ff;">(</span>linguistic <span style="color: #fe8019;">:fetcher</span> github 
            <span style="color: #fe8019;">:repo</span> <span style="color: #b8bb26;">"andcarnivorous/linguistic-mode"</span> 
            <span style="color: #fe8019;">:files</span> <span style="color: #b16286;">(</span><span style="color: #b8bb26;">"*.el"</span> <span style="color: #b8bb26;">"*.org"</span><span style="color: #b16286;">)</span><span style="color: #0000ff;">)</span>
</pre>
</div>

<p>
If you want to install with <b>git clone</b> you will have to tweak the functions ~linguistic-gram-freq~ and ~linguistic-word-freq~ in order for them to find the <b>graph.org</b> file.
</p>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> How to use</h2>
<div class="outline-text-2" id="text-3">
<p>
The main interactive functions are 4:
</p>

<ul class="org-ul">
<li>`linguistic-collocation`
</li>
<li>`linguistic-ngrams` &emsp;&emsp;&emsp;&emsp;(<b>C-c C-g</b>)
</li>
<li>`linguistic-word-freq` &emsp;&emsp; (<b>C-c C-w</b>)
</li>
<li>`linguistic-grams-freq` &emsp;&emsp; (<b>C-c C-n</b>)
</li>
</ul>

<p>
If you activate the minor mode with `M-x linguistic-mode` these functions will be available with their respective keybindings.
</p>
</div>

<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Building a Corpus</h3>
<div class="outline-text-3" id="text-3-1">
<p>
If you want to build a custom corpus from different files, buffers or regions you can do so by using the functions (these do not have keybindings):
</p>

<ul class="org-ul">
<li>`linguistic-build-corpus`
</li>
<li>`linguistic-collect-file`
</li>
<li>`linguistic-collect-buffer`
</li>
<li>`linguistic-collect-region`
</li>
</ul>

<p>
With `linguistic-build-corpus` you will just create a new empy buffer called <b><b>corpus</b></b>, where then you can maybe copy-paste things from other windows in your OS.
</p>

<p>
With the other functions you can take the contents of multiple files, buffers or regions and have them put all together in a new buffer called <b><b>corpus</b></b>.
</p>

<p>
This allows you to maybe take the contents of a .txt file, some <b><b>eww</b></b> buffers and a region of a file and put them all together to be scrutinized by means of the previous functions.
</p>


<p>
### Basic operations
</p>

<p>
With linguistic-mode you can get the number of sentences in a raw corpus and also the average number of characters or words per sentence.
</p>

<ul class="org-ul">
<li>`linguistic-count-sentences`
</li>
<li>`linguistic-average-sent-length`
</li>
<li>`linguistic-average-words-sent`
</li>
</ul>
</div>
</div>


<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> Collocation</h3>
<div class="outline-text-3" id="text-3-2">
<p>
This function allows you to find every instance of a word in the buffer and its surrounding context. The size of the context (how many words on the left and right will be displayed) is chosen by the user.
</p>

<p>
After calling `linguistic-collocation` you will be asked to insert the number of words after the keyword, before the keyword and finally the keyword itself. Remember that the keyword should always be lowercase.
</p>

<p>
Once the function has analyzed the whole buffer it will return in a new buffer the list of all the occurrences of the selected keyword.
</p>

<p>
If you use 0 as number for your context before and/or after the keyword the word "nil" will show up instead of any context.
</p>

<p>
Remember that the more words on the sides, the more it will take to analyze the buffer. The function also substitutes any punctuation with a period.
</p>


<figure>
<p><img src="../img/collocation-emma.png" class="img-responsive" alt="collocation-emma.png" width="100%" height="100%">
</p>
</figure>
</div>

<div id="outline-container-sec-3-2-1" class="outline-4">
<h4 id="sec-3-2-1"><span class="section-number-4">3.2.1</span> Collocation Frequency</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
The new function `linguistic-collocation-freq` requires the same input as the other one, but it returns in a new buffer the list of all the collocates and their frequencies.
</p>
</div>
</div>
</div>


<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> Ngrams</h3>
<div class="outline-text-3" id="text-3-3">
<p>
This function will return a list, in a new buffer, of all the ngrams present in the buffer and the number of ngrams resulted.
</p>

<p>
When you call `linguistic-ngrams` you will have to insert the size of the ngram first. 
</p>
</div>
</div>

<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> Word Frequency</h3>
<div class="outline-text-3" id="text-3-4">
<p>
This function will return, in a new buffer, an org-table with the N most frequent words in the buffer or selected area  and their occurrences. The new buffer will also contain some code snippets in Python, Gnuplot and R that will allow you to get a bar chart of the result.
</p>

<p>
When you call `linguistic-word-freq` you will be asked how long you want the result list (the table, basically) to be. If you choose a number that is higher than the number of single words in the result, the function will return an error.
</p>

<p>
You will also be asked if you want to include stopwords or not. Stopwords are words that usually are not really relevant to word-frequency analysis (e.g. "and", "I", "what", "could", etc&#x2026;).
</p>


<figure>
<p><img src="../img/wordfreq.png" class="img-responsive" alt="wordfreq.png" width="100%" height="100%">
</p>
</figure>
</div>
</div>

<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5"><span class="section-number-3">3.5</span> Ngram Frequency</h3>
<div class="outline-text-3" id="text-3-5">
<p>
This function works just like `linguistic-word-freq` and can be applied to the whole buffer or a selected area. The only difference is that you will also be prompted to insert the size of the ngram you want in your result (2 for bigrams, 3 for trigrams and so on).
</p>
</div>
</div>


<div id="outline-container-sec-3-6" class="outline-3">
<h3 id="sec-3-6"><span class="section-number-3">3.6</span> Custom variables</h3>
<div class="outline-text-3" id="text-3-6">
<p>
There are 2 custom variable that you can customize with `M-x customize-group linguistic-analysis`:
</p>

<ul class="org-ul">
<li>`linguistic-splitter` contains the regex that regulate which special characters will be included in ngrams, word-freq and grams-freq.
</li>

<li>`linguistic-stopwords` contains a list of words that will not be included in word-freq if the uses chooses to apply the stopwords filter.
</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Examples</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> Integration with eww</h3>
<div class="outline-text-3" id="text-4-1">
<p>
A nice way to use linguistic-mode is to implement it when browsing with eww.
Instead of copy-pasting the contents of a tabloid article in a new txt file or stripping the html in other programming languages, it is possible to have preliminary results immediately, which can be quite handy to people just starting out with corpus linguistics.
</p>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> With large .txt files</h3>
<div class="outline-text-3" id="text-4-2">
<p>
When you use linguistic-mode on big files the waiting time for results can be long.
</p>

<p>
Using `linguistic-collocation`, with an i5, it took this machine 61 seconds to find all the occurrences of the word "emma", with 3 context words on each side, in the novel "Emma" by Austen.
Instead it took 33 seconds to find the same word with just 1 context word per side.
</p>

<p>
Using `linguistic-grams-freq` to get the most frequent trigrams in the novel took 160 seconds.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> <span class="label label-primary TODO">TODO</span> </h2>
<div class="outline-text-2" id="text-5">
<ul class="org-ul">
<li><code>[X]</code> Preview word-freq and gram-freq list length before prompt.
</li>
<li><code>[&#xa0;]</code> Affixes in collocation
</li>
<li><code>[&#xa0;]</code> Snowball Stemmer
</li>
</ul>
</div>
</div>
</div><div class="col-md-3"><nav id="table-of-contents">
<div id="text-table-of-contents" class="bs-docs-sidebar">
<ul class="nav">
<li><a href="#sec-1">1. Introduction</a></li>
<li><a href="#sec-2">2. How to install</a></li>
<li><a href="#sec-3">3. How to use</a>
<ul class="nav">
<li><a href="#sec-3-1">3.1. Building a Corpus</a></li>
<li><a href="#sec-3-2">3.2. Collocation</a></li>
<li><a href="#sec-3-3">3.3. Ngrams</a></li>
<li><a href="#sec-3-4">3.4. Word Frequency</a></li>
<li><a href="#sec-3-5">3.5. Ngram Frequency</a></li>
<li><a href="#sec-3-6">3.6. Custom variables</a></li>
</ul>
</li>
<li><a href="#sec-4">4. Examples</a>
<ul class="nav">
<li><a href="#sec-4-1">4.1. Integration with eww</a></li>
<li><a href="#sec-4-2">4.2. With large .txt files</a></li>
</ul>
</li>
<li><a href="#sec-5">5. </a></li>
</ul>
</div>
</nav>
</div></div></div>
<footer id="postamble" class="">
<div><p class="date">Date: <span class="timestamp-wrapper"><span class="timestamp">&lt;2018-07-30 Mon&gt;</span></span></p>
<p class="author">Author: Andrew</p>
<p class="date">Created: 2018-08-12 Sun 18:37</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.3.1 (<a href="http://orgmode.org">Org-mode</a> 8.2.10)</p>
</div>
</footer>
</body>
</html>
